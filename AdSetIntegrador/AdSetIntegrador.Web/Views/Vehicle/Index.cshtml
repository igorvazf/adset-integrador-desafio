@model IEnumerable<AdSetIntegrador.Data.Entities.Vehicle>
@using AdSetIntegrador.Data.Entities

@{
    var vehiclesTotal = Model.Count();
    var vehiclesWithPhotos = Model.Where(m => m.Images.Count() > 0).Count();
    var vehiclesWithoutPhotos = vehiclesTotal - vehiclesWithPhotos;
}

<div style="display: flex; flex: 1; width: 100%; background: #E7E7E7;">
    <div class="">
        <div class="border-bottom-header information" style="">

            <div class="information-data" style="margin-left: 20px;">
                <span class="information-line1">@vehiclesTotal veículos</span>
                <span class="information-total">Total</span>
            </div>

            <div><img src="images/diagonal-line.png"/></div>

            <div class="information-data">
                <span class="information-line1">@vehiclesWithPhotos.ToString() veículos</span>
                <span class="information-with-images">com fotos</span>
            </div>

            <div><img src="images/diagonal-line.png"/></div>

            <div class="information-data">
                <span class="information-line1">@vehiclesWithoutPhotos veículos</span>
                <span class="information-without-images">sem fotos</span>
            </div>

            <div><img src="images/vertical-line.png"/></div>

            <div class="information-data">
                <span class="information-excel">Exportar Estoque</span>
                <span>
                    <a class="" asp-area="" asp-controller="Vehicle" asp-action="Index">
                        <img src="~/images/btn-excel.png" />
                    </a>
                </span>
            </div>

            <div><img src="images/vertical-line.png"/></div>

            <div>
                <a class="navbar-brand" asp-controller="Vehicle" asp-action="Create">
                    <img src="~/images/btn-add.png" />
                </a>
            </div>

            <div style="margin-left: auto; margin-top: 5px; margin-bottom: 5px;">
                <a asp-controller="Vehicle" asp-action="Index">
                    <img src="~/images/btn-salvar.png" />
                </a>
            </div>

        </div>

        <div class="filter-div" style="margin-left: 5px;">

            <div class="information-data" style="margin-right: 10px;">
                <label class="filter-label" for="filter1">Placa</label>
                <input class="filter-input" type="text" id="filter1">
            </div>

            <div class="information-data" style="margin-right: 10px;">
                <label class="filter-label" for="filter2">Marca</label>
                <input class="filter-input" type="text" id="filter2">
            </div>

            <div class="information-data" style="margin-right: 10px;">
                <label class="filter-label" for="filter3">Modelo</label>
                <input class="filter-input" type="text" id="filter3">
            </div>

            <div class="information-data">
                <label class="filter-label" for="filter4">Ano Min</label>
                <select class="filter-dropdown" id="filter4">
                    <option value="">Todos</option>
                    @for (int year = 2000; year <= 2024; year++)
                    {
                        <option value="@year">@year</option>
                    }
                </select>
            </div>

            <div class="information-data" style="margin-right: 10px;">
                <label class="filter-label" for="filter5">Ano Max</label>
                <select class="filter-dropdown" id="filter5">
                    <option value="">Todos</option>
                    @for (int year = 2000; year <= 2024; year++)
                    {
                        <option value="@year">@year</option>
                    }
                </select>
            </div>

            <div class="information-data" style="margin-right: 10px;">
                <label class="filter-label" for="filter6">Preço</label>
                <select class="filter-dropdown" id="filter6">
                    <option value="">Todos</option>
                    <option value="opcao1">10mil a 50mil</option>
                    <option value="opcao2">50mil a 90mil</option>
                    <option value="opcao3">+90mil</option>
                </select>
            </div>

            <div class="information-data" style="margin-right: 10px;">
                <label class="filter-label" for="filter7">Fotos</label>
                <select class="filter-dropdown" id="filter7">
                    <option value="">Todos</option>
                    <option value="opcao1">Com Fotos</option>
                    <option value="opcao2">Sem Fotos</option>
                </select>
            </div>

            <div class="information-data" style="margin-right: 10px;">
                <label class="filter-label" for="filter8">Opcionais</label>
                <select class="filter-dropdown" id="filter8">
                    <option value="">Todos</option>
                    @foreach (var optional in ViewBag.OptionalFeatures as List<OptionalFeature>)
                    {
                        <option value="@optional.Id">@optional.Name</option>
                    }
                </select>
            </div>

            <div class="information-data" style="margin-right: 10px;">
                <label class="filter-label" for="filter9">Cor</label>
                <select class="filter-dropdown" id="filter9">
                    <option value="">Todos</option>
                    <option value="opcao1">Preto</option>
                    <option value="opcao2">Branco</option>
                </select>
            </div>

            <div>
                <a asp-area="" asp-controller="Vehicle" asp-action="Index">
                    <img src="~/images/undo.png" />
                </a>
            </div>

            <button id="filterButton" class="image-button">
                <img src="~/images/btn-search.png">
            </button>

        </div>

        <br />

        <div style="margin-top: 20px;">
            <div class="table-head">
                <div>
                    <img src="~/images/unsort.png" style="cursor: pointer;" />
                </div>

                <div class="table-head-text">Marca / Modelo</div>
                <div><img src="images/vertical-line2.png" /></div>

                <div class="table-head-text">Ano</div>
                <div><img src="images/vertical-line2.png" /></div>

                <div class="table-head-text">Preço</div>
                <div><img src="images/vertical-line2.png" /></div>

                <div class="table-head-text">Fotos</div>
                <div><img src="images/vertical-line2.png" /></div>

                <div style="margin-left: 250px;">
                    <select class="table-head-dropdown" id="filter10">
                        <option value="100">Exibir 100</option>
                        <option value="200">Exibir 200</option>
                        <option value="300">Exibir 300</option>
                    </select>
                </div>

                <div class="table-head-div">
                    <img src="images/icarros.png" />
                </div>
                <div class="table-head-div">
                    <img src="images/webmotors.png" />
                </div>
            </div>
        </div>
    </div>
</div>
<div>
    @if (vehiclesTotal > 0)
    {
        @foreach (var vehicle in Model)
        {
            <div style="display: flex; align-items: center;">

                <div class="rectangle">
                    <a asp-area="" asp-controller="Vehicle" asp-action="Index">
                        <img src="~/images/trash.png" />
                    </a>
                </div>

                @if (vehicle.Images.Count > 0)
                {
                    <div>
                        <img src="photos/@vehicle.Images.Select(v => v.ImageName).First()" class="vehicle-photo" />
                    </div>
                }
                else
                {
                    <div>
                        <img src="photos/cardraw.png" class="vehicle-photo" />
                    </div>
                }

                <div class="vehicle-item">
                    <div style="flex-direction: column;">
                        <div class="vehicle-info-brand vehicle-info-title">
                            @vehicle.Brand @vehicle.Model | @vehicle.Year
                        </div>

                        <div>
                            <p class="vehicle-info-text">Placa -<span class="vehicle-info-text" style="color: #40A52B;">@vehicle.Plate</span></p>
                            <p class="vehicle-info-text">Km -<span class="vehicle-info-text" style="color: #40A52B;">@vehicle.Mileage</span></p>
                            <p class="vehicle-info-text">Cor -<span class="vehicle-info-text" style="color: #40A52B;">@vehicle.Color</span></p>
                        </div>
                    </div>

                    <div class="vehicle-info-right">
                        <div class="vehicle-price vehicle-price-text">R$ @vehicle.Price</div>
                        <div class="additional-info">
                            <div class="vehicle-edit">
                                <a asp-controller="Vehicle" asp-action="Edit">
                                    <img src="~/images/edit.png" />
                                </a>
                            </div>
                            <div style="margin-left: 5px; flex-direction: column;">
                                <div>
                                    <img src="~/images/camera.png" title="Fotos" />
                                </div>
                                <div>
                                    @vehicle.Images.Count()
                                </div>
                            </div>
                            <div style="margin-left: 5px; flex-direction: column;">
                                <div>
                                    <img src="~/images/car-opt.png" title="Opcionais" />
                                </div>
                                <div>
                                    @vehicle.VehicleOptionalFeatures.Count()
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="integration" style="margin-left: 9px;">
                    <small class="text-integration">Diamante Feirão</small>
                    <div class="checkbox-group-idx">
                        <input type="checkbox" /><label class="text-integration" style="margin-bottom: 0;">010 - 008</label>
                    </div>

                    <small class="text-integration">Diamante</small>
                    <div class="checkbox-group-idx">
                        <input type="checkbox" /><label class="text-integration" style="margin-bottom: 0;">030 - 025</label>
                    </div>

                    <small class="text-integration">Platinum</small>
                    <div class="checkbox-group-idx">
                        <input type="checkbox" /><label class="text-integration" style="margin-bottom: 0;">040 - 010</label>
                    </div>
                </div>

                <div><img src="images/vertical-line3.png" /></div>

                <div class="integration">
                    <small class="text-integration">Básico</small>
                    <div class="checkbox-group-idx">
                        <input type="checkbox" /><label class="text-integration" style="margin-bottom: 0;">030 - 025</label>
                    </div>
                </div>

                <div><img src="images/vertical-line3.png" /></div>
            </div>
            <hr class="dotted-hr" />
        }
    }
    else
    {
        <div>
            Nenhum veículo cadastrado.
        </div>
    }
</div>

